var $jscomp={scope:{},checkStringArgs:function(a,b,c){if(null==a)throw new TypeError("The 'this' value for String.prototype."+c+" must not be null or undefined");if(b instanceof RegExp)throw new TypeError("First argument to String.prototype."+c+" must not be a regular expression");return a+""}};
$jscomp.defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){if(c.get||c.set)throw new TypeError("ES3 does not support getters and setters.");a!=Array.prototype&&a!=Object.prototype&&(a[b]=c.value)};$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.polyfill=function(a,b,c,d){if(b){c=$jscomp.global;a=a.split(".");for(d=0;d<a.length-1;d++){var e=a[d];e in c||(c[e]={});c=c[e]}a=a[a.length-1];d=c[a];b=b(d);b!=d&&null!=b&&$jscomp.defineProperty(c,a,{configurable: true,writable: true,value:b})}};
$jscomp.polyfill("String.prototype.startsWith",function(a){return a?a:function(a,c){var b=$jscomp.checkStringArgs(this,a,"startsWith");a+="";for(var e=b.length,f=a.length,g=Math.max(0,Math.min(c|0,b.length)),h=0;h<f&&g<e;)if(b[g++]!=a[h++])return false;return h>=f}},"es6-impl","es3");
jQuery.expr[":"].containsCI=function(a,b,c){if(""==c[3].trim())return false;b=c[3].split(" ");c= true;a=qprin_QuitarAcentos(jQuery(a).text()).toLowerCase();for(var d=0;d<b.length&&c;d++)""!=b[d]&&(c=qprin_QuitarAcentos(b[d]).toLowerCase(),c=0<=a.indexOf(c));return c};var gFavoritos=[],gPortaPapelFrm=localStorage.getItem("PortaFrmFrm"),gPortaPapelFrmNombre=localStorage.getItem("PortaFrmNombre"),gFormsxaAbrir=[];
function qprin_CrearSolapa(a,b,c,d){gFormsxaAbrir.push({Link:a,Titulo:b,Formulario:c,Referencia:d});1==gFormsxaAbrir.length?qprin_CrearSolapaAux(a,b,c,d):qprin_ActFormEnRecientes(c,a)}
function qprin_CrearSolapaxaFrmEspec(a,b,c){if("webfrmMLConfig.aspx"==a){b=.9*$(window).width();var d=.9*$(window).height();c=sessionStorage.getItem("idses");window.open(a+"?mlses="+c,"_blank","toolbar=yes,scrollbars=yes,resizable=yes,top=10,left=10,width="+b+",height="+d)}else d="compose"+CantTabs,CantTabs+=1,a="<iframe id='"+d+"ifrm'  src=\""+(""!=c?"webfrmEspecial.aspx?qurl="+a+"&"+c:"webfrmEspecial.aspx?qurl="+a)+'"',$(".nav-pills").append('<li><a href="#'+d+'"><button class="close closeTab" type="button" >x</button>'+
b+"</a></li>"),$(".tab-content").append('<div class="tab-pane quasar-divFrame" id="'+d+'"> </div>'),$("#"+d).append(a+' runat="server" class="quasar-iframe"/>'),$("#lstFrmAbiertos").append('<button id="'+d+'btnlst" type="button" class="btn quasar-btn-lstfrmabiertos" onClick="qprin_SelecfrmAbiertos(\''+d+"', '"+b+"');\">"+b+'<span class="fa fa-refresh" style="right: 5px; position: absolute;"></span></button>'),qprin_ActCantFormAbiertos(),qprin_CambiarSelecListaFrm(b),$("#menu-1")[0].classList.remove("collapse-show"),
$(this).tab("show"),$tabActual=$(this),qprin_showTab(d),qprin_registrarEventoCerrar()}function qprin_AbrirSigForm(){gFormsxaAbrir.shift();0<gFormsxaAbrir.length&&qprin_CrearSolapaAux(gFormsxaAbrir[0].Link,gFormsxaAbrir[0].Titulo,gFormsxaAbrir[0].Formulario,gFormsxaAbrir[0].Referencia)}
function qprin_CrearSolapaAux(a,b,c,d){var e="compose"+CantTabs;CantTabs+=1;""==a&&(a="webfrmBasico.aspx?frm="+c+"&pref="+d);d="<iframe id='"+e+"ifrm'  src=\""+a+'"';$(".nav-pills").append('<li><a href="#'+e+'"><button class="close closeTab" type="button" >x</button>'+b+"</a></li>");$(".tab-content").append('<div class="tab-pane quasar-divFrame" id="'+e+'"> </div>');$("#"+e).append(d+' runat="server" class="quasar-iframe"/>');$("#lstFrmAbiertos").append('<button id="'+e+'btnlst" type="button" class="btn quasar-btn-lstfrmabiertos" onClick="qprin_SelecfrmAbiertos(\''+
e+"', '"+b+"');\">"+b+'<span class="fa fa-refresh" style="right: 5px; position: absolute;"></span></button>');qprin_ActCantFormAbiertos();qprin_CambiarSelecListaFrm(b);$("#menu-1")[0].classList.remove("collapse-show");$(this).tab("show");$tabActual=$(this);qprin_showTab(e);qprin_registrarEventoCerrar();void 0!=c&&""!=c?qprin_RefrescarRecientes(c):a.startsWith("webfrmMensa")||(a=a.substring(22).split("&"),qprin_RefrescarRecientes(a[0]))}
function qprin_showTab(a){$('#tabFormsAbiertos a[href="#'+a+'"]').tab("show")}function qprin_registrarEventoCerrar(){$(".closeTab").click(function(){qprin_CerrarFormulario(this)})}function qprin_AbrirFrmInicialUsuario(a){""!=a&&(a=a.split("|"),qprin_CrearSolapa("webfrmBasico.aspx?frm="+a[0]+"&pref="+lIdSes,a[1]))}
function qprin_RefrescarFavoritos(){var a=sessionStorage.getItem("idses");$.ajax({type:"POST",url:"AjaxHandler/frmPrincipal.ashx?pTipo=FAV",dataType:"json",data:{pIdSes:a}}).done(function(b){if(void 0==b.e){if($("#lstFavoritos").empty(),gFavoritos=[],""!=b.d){b=JSON.parse(b.d);for(var c=0;c<b.Formularios.length;c++){var d="javascript:qprin_CrearSolapa('webfrmBasico.aspx?frm="+b.Formularios[c].Formulario_Id+"&pref="+a+"', '"+b.Formularios[c].Titulo+"');";$("#lstFavoritos").append('<li><a href="'+d+
'"><i class="fa fa-star favorito"></i>'+b.Formularios[c].Modulo+" - "+b.Formularios[c].Titulo+"</a></li>");gFavoritos.push(b.Formularios[c].Formulario_Id)}}}else qcom_TratarError(b.e)}).fail(function(a,c,d){qcom_Alerta(a.responseText,"danger",null)})}
function qprin_RefrescarRecientes(a){var b=sessionStorage.getItem("idses");$.ajax({type:"POST",url:"AjaxHandler/frmPrincipal.ashx?pTipo=REC",dataType:"json",data:{pFormulario:a,pIdSes:b}}).done(function(a){if(void 0==a.e){if($("#lstRecientes").empty(),""!=a.d){a=JSON.parse(a.d);for(var c=0;c<a.Formularios.length;c++){var e="javascript:qprin_CrearSolapa('webfrmBasico.aspx?frm="+a.Formularios[c].Formulario_Id+"&pref="+b+"', '"+a.Formularios[c].Titulo+"');";$("#lstRecientes").append('<li><a href="'+
e+'"><i class="fa fa-caret-right reciente"></i>'+a.Formularios[c].Modulo+" - "+a.Formularios[c].Titulo+"</a></li>")}}}else qcom_TratarError(a.e)}).fail(function(a,b,e){qcom_Alerta(a.responseText,"danger",null)})}
function qprin_ActFormEnRecientes(a,b){var c="";void 0!=a&&""!=a?c=a:b.startsWith("webfrmMensa")||(c=b.substring(22).split("&")[0]);for(var d= false,e=0;e<$("#lstRecientes").children().length&&!d;e++)$("#lstRecientes").children()[e].innerHTML.contains(c+"&")&&($("#lstRecientes").children()[e].innerHTML=$("#lstRecientes").children()[e].innerHTML.replace("fa-caret-right","fa-spinner"),d= true)}
function qprin_CambiarFavoritos(a,b){qprin_RefrescarFavoritos();for(i=1;i<$("#tabFormsAbiertos a").length;i++)if($("#tabFormsAbiertos a")[i].hash!=$tabActual.hash){var c=$("#tabFormsAbiertos a")[i].hash;$(c+"ifrm")[0].contentWindow.gConfiguracion.getFormulario()==a&&$(c+"ifrm")[0].contentWindow.qcom_CambiarEstadoFavorito(b)}}function qprin_EsFavorito(a){for(var b= false,c=0;c<gFavoritos.length&&!b;c++)b=gFavoritos[c]==a;return b}
function qprin_SetearInfoSsn(a,b,c){$("#ctrlLblUsuarioMobile")[0].innerText=a;$("#ctrlLblEmpresaMobile")[0].innerText=b;$("#ctrlLblSucursalMobile")[0].innerText=" ("+c+")"}function qprin_CambiarSucursal(a){$("#ctrlLblSucursal")[0].innerText=" (Suc: "+a+")";$("#ctrlLblSucursalMobile")[0].innerText=" ("+a+")"}function qprin_MostrarBusqueda(){$("#divBusqMenu").modal({keyboard: true,tabindex:-1,backdrop:"static",show: true});$("#divBusqMenu").draggable({handle:".modal-header"})}
function qprin_QuitarAcentos(a){var b={"\u00e9":"e","\u00f3":"o","\u00ed":"i","\u00fa":"\u00fa","\u00e1":"a","\u00e7":"c"};return a=a.replace(/[\u00e9\u00f3\u00ed\u00fa\u00e1\u00e7]/g,function(a){return b[a]})}
function qprin_BuscarOpciones(a){var b=$(".quasar-menu-nodo-modulo");$("#ulresBusqueda").empty();for(var c=0;c<b.length;c++)for(var d=$("#"+b[c].id+" .quasar-menu-hoja:containsCI('"+a+"')"),e=$("#a"+b[c].id),f=0;f<d.length;f++){var g=d[f].onclick.toString().split("javascript")[1].split(";")[0];$("#ulresBusqueda").append('<li><a href="javascript'+g+'"><span class="tab">'+e.text()+" - "+d[f].text+"</span></a></li>")}}
function qprin_MostrarfrmAbiertos(){$("#divfrmAbiertos").is(":visible")?$("#divfrmAbiertos").modal("hide"):$("#divfrmAbiertos").modal({keyboard: true,tabindex:-1,backdrop: true,show: true})}function qprin_CerrarfrmAbiertos(){$("#divfrmAbiertos").modal("hide")}function qprin_SelecfrmAbiertos(a,b){qprin_CerrarfrmAbiertos();qprin_showTab(a);qprin_CambiarSelecListaFrm(b)}function qprin_CambiarSelecListaFrm(a){$("#ctrlTitFrmAbierto")[0].innerText=a}
function qprin_CerrarFormulario(a){var b= true,c;c=null!=a?$(a).parent().attr("href"):$("ul#tabFormsAbiertos li.active").children(0).attr("href");if(null!=$(c+"ifrm")[0]&&(null!=$(c+"ifrm")[0].contentWindow.ConsultaxCambiosSinGuardar&&void 0!=$(c+"ifrm")[0].contentWindow.ConsultaxCambiosSinGuardar&&$(c+"ifrm")[0].contentWindow.ConsultaxCambiosSinGuardar()&&(b=confirm(qrefConfPerderCambios)),b)){null!=a?$(a).parent().parent().remove():$("ul#tabFormsAbiertos li.active").remove();$(c+"btnlst")[0].remove();
qprin_ActCantFormAbiertos();a=$("#tabFormsAbiertos a:last")[0].innerText;if(215==a.charCodeAt(0)||120==a.charCodeAt(0))a=a.substring(1,a.length);qprin_CambiarSelecListaFrm(a);$("#tabFormsAbiertos a:last").tab("show");$(c).remove()}}function qprin_MostrarInfoSSN(){$("#divInfoSsn").modal({keyboard: true,tabindex:-1,backdrop: false,show: true})}function qprin_ActCantFormAbiertos(){var a=$(".quasar-btn-lstfrmabiertos");$("#ctrlCantFormAbiertos").text(a.length)}
function qprin_CopiarfrmaPortapapel(a,b){localStorage.setItem("PortaFrmFrm",a);localStorage.setItem("PortaFrmNombre",b);qprin_ActualizarBtnPegarEnFrm()}function qprin_CopiarPortapapelaFrm(a){return a!=localStorage.getItem("PortaFrmNombre")?null:localStorage.getItem("PortaFrmFrm")}
function qprin_ActualizarBtnPegarEnFrm(){var a=localStorage.getItem("PortaFrmNombre");for(i=1;i<$("#tabFormsAbiertos a").length;i++)if($("#tabFormsAbiertos a")[i].hash!=$tabActual.hash){var b=$("#tabFormsAbiertos a")[i].hash;void 0!=$(b+"ifrm")[0]&&void 0!=$(b+"ifrm")[0].contentWindow&&void 0!=$(b+"ifrm")[0].contentWindow.gConfiguracion&&($(b+"ifrm")[0].contentWindow.gConfiguracion.getFormulario()==a?$(b+"ifrm")[0].contentWindow.qcom_CambiarVisibilidadBtnPegar( true):$(b+"ifrm")[0].contentWindow.qcom_CambiarVisibilidadBtnPegar( false))}}
function qprin_ObtenerNombreFrmPortaPapel(){return localStorage.getItem("PortaFrmNombre")}function qprin_ObtenerFrmPortaPapel(){return localStorage.getItem("PortaFrmFrm")}function qprin_FormatearTextoNotif(a){return a.replace(/\\n/g,"<br/>")}
function qprin_QuitarCortina(){for(i=1;i<$("#tabFormsAbiertos a").length;i++)if(void 0!=$("#tabFormsAbiertos a")[i].parentNode&&null!=$("#tabFormsAbiertos a")[i].parentNode&&"active"==$("#tabFormsAbiertos a")[i].parentNode.className){var a=$("#tabFormsAbiertos a")[i].hash;void 0!=$(a+"ifrm")[0]&&void 0!=$(a+"ifrm")[0].contentWindow&&$(a+"ifrm")[0].contentWindow.qcom_QuitarCortina()}};
